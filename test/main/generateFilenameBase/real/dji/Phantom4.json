[
  {
    "casename": "image-dng-withGPS-1",
    "expected": {
      "newPathSuffix": "image/x-adobe-dng/2018/08",
      "newFileName": "20180813T163750.000Z-FC330",
      "fileExtension": "dng",
      "err": ""
    },
    "metadata": {
      "SourceFile": "image/x-adobe-dng/2018/08/20180813T163750.000Z-DJI-Phantom4.dng",
      "ExifToolVersion": 12.70,
      "FileName": "20180813T163750.000Z-DJI-Phantom4.dng",
      "Directory": "image/x-adobe-dng/2018/08",
      "FileSize": "24 MB",
      "FileModifyDate": 1534178273000,
      "FileAccessDate": 1742417436000,
      "FileInodeChangeDate": 1735052128000,
      "FilePermissions": "-rwxrwxrwx",
      "FileType": "DNG",
      "FileTypeExtension": "dng",
      "MIMEType": "image/x-adobe-dng",
      "ExifByteOrder": "Little-endian (Intel, II)",
      "Model": "FC330",
      "Orientation": "Horizontal (normal)",
      "Software": "v01.19.5266",
      "ModifyDate": 1534178270000,
      "ImageWidth": 4000,
      "ImageHeight": 3000,
      "BitsPerSample": 16,
      "Compression": "Uncompressed",
      "PhotometricInterpretation": "Color Filter Array",
      "StripOffsets": 361236,
      "SamplesPerPixel": 1,
      "RowsPerStrip": 3000,
      "StripByteCounts": 24000000,
      "PlanarConfiguration": "Chunky",
      "CFARepeatPatternDim": "2 2",
      "CFAPattern2": "0 1 1 2",
      "CFAPlaneColor": "Red,Green,Blue",
      "CFALayout": "Rectangular",
      "BlackLevelRepeatDim": "2 2",
      "BlackLevel": "800 800 800 800",
      "WhiteLevel": 16383,
      "DefaultScale": "1 1",
      "DefaultCropOrigin": "4 4",
      "DefaultCropSize": "3992 2992",
      "BayerGreenSplit": 0,
      "AntiAliasStrength": 1,
      "BestQualityScale": 1,
      "ActiveArea": "0 0 3000 4000",
      "OpcodeList1": "FixBadPixelsList",
      "OpcodeList3": "WarpRectilinear, FixVignetteRadial",
      "DefaultUserCrop": "0 0 1 1",
      "SubfileType": "Reduced-resolution image",
      "PreviewImageStart": 93951,
      "PreviewImageLength": 267285,
      "YCbCrCoefficients": "0.299 0.587 0.114",
      "YCbCrSubSampling": "YCbCr4:2:0 (2 2)",
      "YCbCrPositioning": "Co-sited",
      "ReferenceBlackWhite": "0 255 128 255 128 255",
      "About": "DJI Meta Data",
      "Format": "image/tiff",
      "AbsoluteAltitude": "+123.41",
      "RelativeAltitude": "+5.80",
      "GimbalRollDegree": "+0.00",
      "GimbalYawDegree": "+132.00",
      "GimbalPitchDegree": -11.80,
      "FlightRollDegree": -6.80,
      "FlightYawDegree": "+131.10",
      "FlightPitchDegree": -8.40,
      "FlightXSpeed": "+0.00",
      "FlightYSpeed": -0.20,
      "FlightZSpeed": "+0.00",
      "CamReverse": 0,
      "GimbalReverse": 0,
      "Version": 7.0,
      "HasSettings": false,
      "HasCrop": false,
      "AlreadyApplied": false,
      "ExposureTime": "1/2336",
      "FNumber": 2.8,
      "ExposureProgram": "Unknown (58655)",
      "ISO": 100,
      "ExifVersion": "0230",
      "DateTimeOriginal": 1534178270000,
      "CreateDate": 1534178270000,
      "ShutterSpeedValue": "1/2331",
      "ApertureValue": 2.6,
      "ExposureCompensation": 0,
      "MaxApertureValue": 2.8,
      "SubjectDistance": "0 m",
      "MeteringMode": "Center-weighted average",
      "LightSource": "Unknown",
      "Flash": "No flash function",
      "FocalLength": "3.6 mm",
      "Make": "DJI",
      "SpeedX": "+0.00",
      "SpeedY": -0.20,
      "SpeedZ": "+0.00",
      "Pitch": -8.40,
      "Yaw": "+131.10",
      "Roll": -6.80,
      "CameraPitch": -11.80,
      "CameraYaw": "+132.00",
      "CameraRoll": "+0.00",
      "FileSource": "Digital Camera",
      "SceneType": "Directly photographed",
      "CustomRendered": "Normal",
      "ExposureMode": "Auto",
      "WhiteBalance": "Auto",
      "DigitalZoomRatio": 0,
      "FocalLengthIn35mmFormat": "20 mm",
      "SceneCaptureType": "Standard",
      "GainControl": "None",
      "Contrast": "Normal",
      "Saturation": "Normal",
      "Sharpness": "Normal",
      "SubjectDistanceRange": "Unknown",
      "SerialNumber": "ffffffffffff0947ff347c7bff7e41ffffffdd",
      "LensInfo": "3.61mm f/?",
      "LensModel": "",
      "GPSVersionID": "2.3.0.0",
      "GPSLatitudeRef": "North",
      "GPSLongitudeRef": "West",
      "GPSAltitudeRef": "Above Sea Level",
      "XPComment": "0.91.142",
      "XPKeywords": "N",
      "DNGVersion": "1.4.0.0",
      "DNGBackwardVersion": "1.3.0.0",
      "UniqueCameraModel": "FC330",
      "ColorMatrix1": "1.105 -0.7405 0.1696 -0.1982 0.7536 0.5303 -0.0089 0.0909 0.5633",
      "ColorMatrix2": "0.7497 -0.1964 -0.0483 -0.3827 1.1576 0.2677 -0.1083 0.2348 0.6001",
      "AnalogBalance": "1 1 1",
      "AsShotNeutral": "0.512833 1 0.569917",
      "BaselineExposure": 0,
      "BaselineNoise": 1,
      "BaselineSharpness": 1,
      "LinearResponseLimit": 1,
      "CameraSerialNumber": "ffffffffffff0947ff347c7bff7e41ffffffdd",
      "DNGLensInfo": "3.61mm f/?",
      "ShadowScale": 1,
      "DNGPrivateData": "(Binary data 256 bytes, use -b option to extract)",
      "CalibrationIlluminant1": "Standard Light A",
      "CalibrationIlluminant2": "D65",
      "ProfileHueSatMapDims": "6 6 3",
      "ProfileHueSatMapData1": "(Binary data 4382 bytes, use -b option to extract)",
      "ProfileHueSatMapData2": "(Binary data 4380 bytes, use -b option to extract)",
      "ProfileEmbedPolicy": "Allow Copying",
      "OriginalDefaultFinalSize": "0 0",
      "OriginalBestQualitySize": "0 0",
      "OriginalDefaultCropSize": "undef undef",
      "Aperture": 2.8,
      "CFAPattern": "[Red,Green][Green,Blue]",
      "ImageSize": "4000x3000",
      "Megapixels": 12.0,
      "PreviewImage": "(Binary data 267285 bytes, use -b option to extract)",
      "ScaleFactor35efl": 5.5,
      "ShutterSpeed": "1/2336",
      "GPSAltitude": "123.4 m Above Sea Level",
      "GPSLatitude": "redacted",
      "GPSLongitude": "redacted",
      "CircleOfConfusion": "0.005 mm",
      "FOV": "84.0 deg",
      "FocalLength35efl": "3.6 mm (35 mm equivalent: 20.0 mm)",
      "GPSPosition": "redacted",
      "HyperfocalDistance": "0.86 m",
      "LightValue": 14.2
    }
  },
  {
    "casename": "image-jpeg-withGPS-1",
    "expected": {
      "newPathSuffix": "image/jpeg/2024/02",
      "newFileName": "20240214T163134.000Z-FC330",
      "fileExtension": "jpg",
      "err": ""
    },
    "metadata": {
      "SourceFile": "image/jpeg/2024/02/20240214T163134.000Z-DJI-Phantom4.jpg",
      "ExifToolVersion": 12.70,
      "FileName": "20240214T163134.000Z-DJI-Phantom4.jpg",
      "Directory": "image/jpeg/2024/02",
      "FileSize": "5.1 MB",
      "FileModifyDate": 1707930339000,
      "FileAccessDate": 1736233873000,
      "FileInodeChangeDate": 1735052127000,
      "FilePermissions": "-rwxrwxrwx",
      "FileType": "JPEG",
      "FileTypeExtension": "jpg",
      "MIMEType": "image/jpeg",
      "ExifByteOrder": "Little-endian (Intel, II)",
      "ImageDescription": "DCIM\\103MEDIA\\DJI_0050.JPG",
      "Model": "FC330",
      "Orientation": "Horizontal (normal)",
      "XResolution": 72,
      "YResolution": 72,
      "ResolutionUnit": "inches",
      "Software": "v01.19.5266",
      "ModifyDate": 1707928294000,
      "YCbCrPositioning": "Centered",
      "ExposureTime": "1/1418",
      "FNumber": 2.8,
      "ExposureProgram": "Program AE",
      "ISO": 100,
      "ExifVersion": "0230",
      "DateTimeOriginal": 1707928294000,
      "CreateDate": 1707928294000,
      "ComponentsConfiguration": "-, Cr, Cb, Y",
      "CompressedBitsPerPixel": 3.178182667,
      "ShutterSpeedValue": "1/1416",
      "ApertureValue": 2.8,
      "ExposureCompensation": 0,
      "MaxApertureValue": 2.8,
      "SubjectDistance": "0 m",
      "MeteringMode": "Center-weighted average",
      "LightSource": "Unknown",
      "Flash": "No flash function",
      "FocalLength": "3.6 mm",
      "Make": "DJI",
      "SpeedX": "+0.00",
      "SpeedY": "+0.00",
      "SpeedZ": "+0.00",
      "Pitch": "+0.10",
      "Yaw": -152.60,
      "Roll": -1.40,
      "CameraPitch": -22.30,
      "CameraYaw": -152.30,
      "CameraRoll": "+0.00",
      "FlashpixVersion": "0010",
      "ColorSpace": "sRGB",
      "ExifImageWidth": 4000,
      "ExifImageHeight": 3000,
      "InteropIndex": "R98 - DCF basic file (sRGB)",
      "InteropVersion": "0100",
      "ExposureIndex": "undef",
      "FileSource": "Digital Camera",
      "SceneType": "Unknown (0)",
      "CustomRendered": "Normal",
      "ExposureMode": "Auto",
      "WhiteBalance": "Auto",
      "DigitalZoomRatio": "undef",
      "FocalLengthIn35mmFormat": "20 mm",
      "SceneCaptureType": "Standard",
      "GainControl": "None",
      "Contrast": "Normal",
      "Saturation": "Normal",
      "Sharpness": "Normal",
      "DeviceSettingDescription": "(Binary data 4 bytes, use -b option to extract)",
      "SubjectDistanceRange": "Unknown",
      "GPSVersionID": "0.0.0.0",
      "GPSLatitudeRef": "North",
      "GPSLongitudeRef": "West",
      "GPSAltitudeRef": "Above Sea Level",
      "XPComment": "0.91.142",
      "XPKeywords": "N",
      "SerialNumber": "ffffffffffff0947ff347c7bff7e41ffffffdd",
      "Compression": "JPEG (old-style)",
      "ThumbnailOffset": 41984,
      "ThumbnailLength": 8348,
      "About": "DJI Meta Data",
      "Format": "image/jpeg",
      "AbsoluteAltitude": "+132.22",
      "RelativeAltitude": "+48.60",
      "GimbalRollDegree": "+0.00",
      "GimbalYawDegree": -152.30,
      "GimbalPitchDegree": -22.30,
      "FlightRollDegree": -1.40,
      "FlightYawDegree": -152.60,
      "FlightPitchDegree": "+0.10",
      "FlightXSpeed": "+0.00",
      "FlightYSpeed": "+0.00",
      "FlightZSpeed": "+0.00",
      "CamReverse": 0,
      "GimbalReverse": 0,
      "Version": 7.0,
      "HasSettings": false,
      "HasCrop": false,
      "AlreadyApplied": false,
      "MPFVersion": "0010",
      "NumberOfImages": 2,
      "MPImageFlags": "Dependent child image",
      "MPImageFormat": "JPEG",
      "MPImageType": "Large Thumbnail (VGA equivalent)",
      "MPImageLength": 297335,
      "MPImageStart": 4825942,
      "DependentImage1EntryNumber": 0,
      "DependentImage2EntryNumber": 0,
      "ImageUIDList": "(Binary data 66 bytes, use -b option to extract)",
      "TotalFrames": 1,
      "ImageWidth": 4000,
      "ImageHeight": 3000,
      "EncodingProcess": "Baseline DCT, Huffman coding",
      "BitsPerSample": 8,
      "ColorComponents": 3,
      "YCbCrSubSampling": "YCbCr4:2:2 (2 1)",
      "Aperture": 2.8,
      "ImageSize": "4000x3000",
      "Megapixels": 12.0,
      "ScaleFactor35efl": 5.5,
      "ShutterSpeed": "1/1418",
      "ThumbnailImage": "(Binary data 8348 bytes, use -b option to extract)",
      "GPSAltitude": "132.2 m Above Sea Level",
      "GPSLatitude": "redacted",
      "GPSLongitude": "redacted",
      "PreviewImage": "(Binary data 297335 bytes, use -b option to extract)",
      "CircleOfConfusion": "0.005 mm",
      "FOV": "84.0 deg",
      "FocalLength35efl": "3.6 mm (35 mm equivalent: 20.0 mm)",
      "GPSPosition": "redacted",
      "HyperfocalDistance": "0.86 m",
      "LightValue": 13.4
    }
  },
  {
    "casename": "video-quicktime-withGPS-1",
    "expected": {
      "newPathSuffix": "video/quicktime/2016/07",
      "newFileName": "20160722T205654.000Z-FC330",
      "fileExtension": "mov",
      "err": ""
    },
    "metadata": {
      "SourceFile": "video/quicktime/2016/07/20160722T205654.000Z-DJI-Phantom4.mov",
      "ExifToolVersion": 12.70,
      "FileName": "20160722T205654.000Z-DJI-Phantom4.mov",
      "Directory": "video/quicktime/2016/07",
      "FileSize": "4.1 GB",
      "FileModifyDate": 1469221576000,
      "FileAccessDate": 1742417641000,
      "FileInodeChangeDate": 1735052128000,
      "FilePermissions": "-rwxrwxrwx",
      "FileType": "MOV",
      "FileTypeExtension": "mov",
      "MIMEType": "video/quicktime",
      "MajorBrand": "Apple QuickTime (.MOV/QT)",
      "MinorVersion": "2014.2.0",
      "CompatibleBrands": [
        "qt  "
      ],
      "MediaDataSize": 4131541572,
      "MediaDataOffset": 40,
      "MovieHeaderVersion": 0,
      "CreateDate": 1469221014000,
      "ModifyDate": 1469221014000,
      "TimeScale": 30000,
      "Duration": "0:09:11",
      "PreferredRate": 1,
      "PreferredVolume": "100.00%",
      "PreviewTime": "0 s",
      "PreviewDuration": "0 s",
      "PosterTime": "0 s",
      "SelectionTime": "0 s",
      "SelectionDuration": "0 s",
      "CurrentTime": "0 s",
      "NextTrackID": 2,
      "GPSCoordinates-err": "redacted",
      "SpeedX-err": "+0.00",
      "SpeedY-err": "+0.00",
      "SpeedZ-err": "+0.00",
      "Pitch-err": -0.10,
      "Yaw-err": -11.70,
      "Roll-err": -4.40,
      "CameraPitch-err": -37.50,
      "CameraYaw-err": -11.40,
      "CameraRoll-err": "+0.00",
      "Comment": "0.91.140",
      "Category": "v01.13.4980",
      "Model": "FC330",
      "TrackHeaderVersion": 0,
      "TrackCreateDate": 1469221014000,
      "TrackModifyDate": 1469221014000,
      "TrackID": 1,
      "TrackDuration": "0:09:11",
      "TrackLayer": 0,
      "TrackVolume": "0.00%",
      "MatrixStructure": "1 0 0 0 1 0 0 0 1",
      "ImageWidth": 3840,
      "ImageHeight": 2160,
      "MediaHeaderVersion": 0,
      "MediaCreateDate": 1469221014000,
      "MediaModifyDate": 1469221014000,
      "MediaTimeScale": 30000,
      "MediaDuration": "0:09:11",
      "HandlerClass": "Media Handler",
      "HandlerType": "Video Track",
      "HandlerDescription": "DJI.AVC",
      "GraphicsMode": "srcCopy",
      "OpColor": "0 0 0",
      "CompressorID": "avc1",
      "SourceImageWidth": 3840,
      "SourceImageHeight": 2160,
      "XResolution": 72,
      "YResolution": 72,
      "CompressorName": "Dji AVC encoder",
      "BitDepth": 24,
      "VideoFrameRate": 29.97,
      "GPSCoordinates": "redacted",
      "SpeedX": "+0.00",
      "SpeedY": "+0.00",
      "SpeedZ": "+0.00",
      "Pitch": -0.10,
      "Yaw": -11.70,
      "Roll": -4.40,
      "CameraPitch": -37.50,
      "CameraYaw": -11.40,
      "CameraRoll": "+0.00",
      "ImageSize": "3840x2160",
      "Megapixels": 8.3,
      "AvgBitrate": "59.9 Mbps",
      "GPSAltitude": "25.9 m",
      "GPSAltitudeRef": "Above Sea Level",
      "GPSLatitude": "redacted",
      "GPSLongitude": "redacted",
      "Rotation": 0,
      "GPSPosition": "redacted"
    }
  },
  {
    "casename": "video-mp4-withGPS-1",
    "expected": {
      "newPathSuffix": "video/mp4/2023/11",
      "newFileName": "20231111T154946.000Z-FC330",
      "fileExtension": "mp4",
      "err": ""
    },
    "metadata": {
      "SourceFile": "video/mp4/2023/11/20231111T154946.000Z-DJI-Phantom4.mp4",
      "ExifToolVersion": 12.70,
      "FileName": "20231111T154946.000Z-DJI-Phantom4.mp4",
      "Directory": "video/mp4/2023/11",
      "FileSize": "2.6 GB",
      "FileModifyDate": 1708309568000,
      "FileAccessDate": 1709491871000,
      "FileInodeChangeDate": 1735052128000,
      "FilePermissions": "-rwxrwxrwx",
      "FileType": "MP4",
      "FileTypeExtension": "mp4",
      "MIMEType": "video/mp4",
      "MajorBrand": "MP4 Base w/ AVC ext [ISO 14496-12:2005]",
      "MinorVersion": "2014.2.0",
      "CompatibleBrands": [
        "avc1",
        "isom"
      ],
      "MediaDataSize": 2617083032,
      "MediaDataOffset": 40,
      "MovieHeaderVersion": 0,
      "CreateDate": 1699717786000,
      "ModifyDate": 1699717786000,
      "TimeScale": 30000,
      "Duration": "0:05:49",
      "PreferredRate": 1,
      "PreferredVolume": "100.00%",
      "PreviewTime": "0 s",
      "PreviewDuration": "0 s",
      "PosterTime": "0 s",
      "SelectionTime": "0 s",
      "SelectionDuration": "0 s",
      "CurrentTime": "0 s",
      "NextTrackID": 2,
      "GPSCoordinates-err": "redacted",
      "SpeedX-err": "+1.80",
      "SpeedY-err": "+3.00",
      "SpeedZ-err": "+0.00",
      "Pitch-err": -6.60,
      "Yaw-err": "+63.30",
      "Roll-err": "+1.20",
      "CameraPitch-err": "+0.00",
      "CameraYaw-err": "+64.20",
      "CameraRoll-err": "+0.00",
      "Comment": "0.91.142",
      "Category": "v01.19.5266",
      "Model": "FC330",
      "TrackHeaderVersion": 0,
      "TrackCreateDate": 1699717786000,
      "TrackModifyDate": 1699717786000,
      "TrackID": 1,
      "TrackDuration": "0:05:49",
      "TrackLayer": 0,
      "TrackVolume": "0.00%",
      "MatrixStructure": "1 0 0 0 1 0 0 0 1",
      "ImageWidth": 3840,
      "ImageHeight": 2160,
      "MediaHeaderVersion": 0,
      "MediaCreateDate": 1699717786000,
      "MediaModifyDate": 1699717786000,
      "MediaTimeScale": 30000,
      "MediaDuration": "0:05:49",
      "HandlerClass": "Media Handler",
      "HandlerType": "Video Track",
      "HandlerDescription": "DJI.AVC",
      "GraphicsMode": "srcCopy",
      "OpColor": "0 0 0",
      "CompressorID": "avc1",
      "SourceImageWidth": 3840,
      "SourceImageHeight": 2160,
      "XResolution": 72,
      "YResolution": 72,
      "CompressorName": "Dji AVC encoder",
      "BitDepth": 24,
      "VideoFrameRate": 29.97,
      "GPSCoordinates": "redacted",
      "SpeedX": "+1.80",
      "SpeedY": "+3.00",
      "SpeedZ": "+0.00",
      "Pitch": -6.60,
      "Yaw": "+63.30",
      "Roll": "+1.20",
      "CameraPitch": "+0.00",
      "CameraYaw": "+64.20",
      "CameraRoll": "+0.00",
      "ImageSize": "3840x2160",
      "Megapixels": 8.3,
      "AvgBitrate": "60 Mbps",
      "GPSAltitude": "48.2 m",
      "GPSAltitudeRef": "Above Sea Level",
      "GPSLatitude": "redacted",
      "GPSLongitude": "redacted",
      "Rotation": 0,
      "GPSPosition": "redacted"
    }
  }
]
